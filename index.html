<!DOCTYPE>
<html>
    <head>
        <title>Launch Checklist</title>
        <link rel = "stylesheet" type = "text/css" href = "styles.css" />
        <script src = "scriptHelper.js"></script>
        <script src = "script.js"></script>
        <script src = "bundle.js"></script>
    </head>
    <body>
        <h1>Launch Checklist Form</h1>
        <div id="missionTarget" data-testid="missionTarget">
            <!-- Fetch some planetary data -->
        </div>  
        <div id="launchForm">
            <form data-testid="testForm">
                <div class="formField">
                    <label>Pilot Name <input type="text" name="pilotName" id="pilotName"/></label>
                </div>
                <div class="formField">
                    <label>Co-pilot Name <input type="text" name="copilotName"/></label>
                </div>
                <div class="formField">
                    <label>Fuel Level (L) <input type="text" name="fuelLevel"/></label> 
                </div>
                <div class="formField">
                    <label>Cargo Mass (kg) <input type="text" name="cargoMass"/></label>
                </div>
                <button id="formSubmit">Submit</button>
            </form>
        </div>
        <div id="launchStatusCheck">
            <h2 id="launchStatus" data-testid="launchStatus">Awaiting Information Before Launch</h2>
            <div id="faultyItems" style="visibility: hidden">
                <script>
                    function checkShuttleStatus(){
                        
                        document.getElementById('pilotStatus').textContent = `Pilot status: ${pilotName}`
                        document.getElementById('copilotStatus').textContent = `Co-Pilot status: ${copilotName}`


                        if(fuelLevel < 10000) {
                        document.getElementById('faultyItems').style.display = 'block';
                        document.getElementById('fuelStatus').textContent = 'Fuel Status: Not enough fuel for the launch';
                        document.getElementById('launchStatus').textContent = "Shuttle not ready for launch";               
                        document.getElementById('launchStatus').style.color = 'red';
                        return;
                        } else 
                         document.getElementById('launchStatus').textContent = 'Shuttle ready for Launch'
                         document.getElementById('launchStatus').style.color = 'green';

                        }

                        if(cargoMass > 10000 ){
                        document.getElementById('faultyItems').style.display = 'block'
                        document.getElementById('cargoStatus').textContent = 'To much mass for the shuttle to launch'
                        document.getElementById('launchStatus').textContent = 'Shuttle not ready for Launch'
                        document.getElemntById('launchStatus').style.color = 'red'
                        }
                        checkShuttleStatus();
                    </script>
                <ol>
                    <li id= "pilotStatus" data-testid="pilotStatus">`Pilot ${pilotName} Ready`</li>
                    <li id="copilotStatus" data-testid="copilotStatus">`Co-pilot ${copilotName}` Ready</li>
                    <li id="fuelStatus" data-testid="fuelStatus">Fuel level high enough for launch</li>
                    <li id="cargoStatus" data-testid="cargoStatus">Cargo mass low enough for launch</li>
                </ol>
            </div>
        </div>
    </body>
</html>
